{"version":3,"sources":["webpack:///./src/components/SearchResults.vue?044d","webpack:///./src/components/App.vue?f305","webpack:///./src/components/App.vue?13bb","webpack:///./src/App.vue?cefc","webpack:///./src/App.vue?edc5","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/LanguageChooser.vue?e028","webpack:///./src/components/LanguageChooser.vue","webpack:///src/components/LanguageChooser.vue","webpack:///./src/components/SearchResults.vue?ea36","webpack:///./src/components/SearchResults.vue","webpack:///src/components/SearchResults.vue","webpack:///src/components/Search.vue","webpack:///./src/components/Search.vue?00bd","webpack:///./src/components/Search.vue","webpack:///src/components/App.vue","webpack:///./src/components/App.vue?2430","webpack:///./src/components/App.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/messages.json","webpack:///./src/components/Search.vue?ce4a","webpack:///./src/components/SearchResults.vue?5c0e","webpack:///./src/components/Search.vue?2a53","webpack:///./src/App.vue?569e"],"names":["module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","content","locals","render","_h","this","$createElement","_c","_self","attrs","id","_withStripped","esExports","staticRenderFns","selectortype_template_index_0_src_App","disposed","Component","normalizeComponent","ssrContext","options","__file","src_App","LanguageChooser_render","_vm","staticClass","directives","name","rawName","value","language","expression","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","o","selected","map","_value","multiple","onChange","_v","LanguageChooser_esExports","components_LanguageChooser","LanguageChooser_Component","LanguageChooser_normalizeComponent","src_components_LanguageChooser","SearchResults_render","localeCompare","query","_s","$t","total","results","_l","hits","item","key","_id","_source","path","inner_hits","NamedEntity","ne","mention","category","extractor","offset","highlight","fragment","domProps","innerHTML","mentions","buckets","href","click","$emit","doc_count","docs","SearchResults_esExports","components_SearchResults","SearchResults_disposed","SearchResults_Component","SearchResults_normalizeComponent","src_components_SearchResults","esClient","elasticsearch_default","a","Client","Search","SearchResults","aggregate","searchQuery","then","resp","message","aggregations","newQuery","search","Search_render","type","placeholder","size","keyup","_k","keyCode","input","composing","searchResults","lastQuery","update:query","Search_esExports","components_Search","Search_disposed","Search_Component","Search_normalizeComponent","components_App","LanguageChooser","App_render","App_esExports","selectortype_template_index_0_src_components_App","App_disposed","App_Component","App_normalizeComponent","src_components_App","vue_esm","use","vue_router_esm","router","routes","component","vue_i18n_esm","config","productionTip","i18n","locale","fallbackLocale","messages","messages_default","el","components","App","template","en","buttonlabel","match","entities","fr"],"mappings":"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","file":"static/js/app.f0e011ca6391f38b51b2.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.fragments[data-v-1d54fe2e], .named-entities[data-v-1d54fe2e], .aggregation[data-v-1d54fe2e] {\\n  color: #7f7f7f;\\n  margin-left: 1em;\\n}\\n.fragment[data-v-1d54fe2e], .named-entity[data-v-1d54fe2e] {\\n  margin-left: 5px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/dev/src/datashare-client/src/components/src/components/SearchResults.vue\"],\"names\":[],\"mappings\":\";AAgCA;EACA,eAAA;EACA,iBAAA;CACA;AACA;EACA,iBAAA;CACA\",\"file\":\"SearchResults.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"search-results list\\\">\\n    <div v-if=\\\"''.localeCompare(query) !== 0\\\">\\n      <h3>{{$t('search.results.results', {total: results.total, query})}}</h3>\\n      <div class=\\\"item\\\" v-for=\\\"item in results.hits\\\" :key=\\\"item._id\\\">\\n        document : {{item._source.path}}\\n        <div class=\\\"named-entities\\\">\\n          {{$t('search.results.entities')}}: <b>{{ item.inner_hits.NamedEntity.hits.total }}</b>\\n          <span class=\\\"named-entity\\\" v-for=\\\"ne in item.inner_hits.NamedEntity.hits.hits\\\" :key=\\\"ne._id\\\">{{ne._source.mention}} ({{ne._source.category}}/{{ne._source.extractor}}/{{ne._source.offset}})</span>\\n        </div>\\n        <div class=\\\"fragments\\\">\\n          {{$t('search.results.match')}}:\\n          <span class=\\\"fragment\\\" v-for=\\\"fragment in item.highlight.content\\\" v-html=\\\"fragment\\\" :key=\\\"fragment\\\"></span>\\n        </div>\\n      </div>\\n    </div>\\n    <div v-else>\\n      <div class=\\\"item\\\" v-for=\\\"item in results.mentions.buckets\\\" :key=\\\"item.key\\\">\\n        <a href=\\\"#\\\" @click=\\\"$emit('update:query', item.key)\\\">{{item.key}}</a><span class=\\\"aggregation\\\">{{item.doc_count}} occurences, {{item.docs.value}} documents</span>\\n      </div>\\n    </div>\\n  </div>\\n</template>\\n\\n<script>\\nexport default {\\n  name: 'search-results',\\n  props: ['results', 'query']\\n}\\n</script>\\n\\n<style scoped>\\n  .fragments, .named-entities, .aggregation {\\n    color: #7f7f7f;\\n    margin-left: 1em;\\n  }\\n  .fragment, .named-entity {\\n    margin-left: 5px;\\n  }\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1d54fe2e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/SearchResults.vue\n// module id = 2pJe\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-617ab0be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./App.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"63ef8628\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-617ab0be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./App.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-617ab0be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./App.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-617ab0be\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/App.vue\n// module id = 6H7H\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"App.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-617ab0be\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/App.vue\n// module id = Bbpv\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ba5bd90\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./App.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"08bac906\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ba5bd90\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./App.vue\", function() {\n     var newContent = require(\"!!../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ba5bd90\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./App.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7ba5bd90\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = GHGh\n// module chunks = 0","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"app\" } }, [_c(\"router-view\")], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-7ba5bd90\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ba5bd90\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ba5bd90\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ba5bd90\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/App.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7ba5bd90\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7ba5bd90\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"language-chooser\" }, [\n    _c(\n      \"select\",\n      {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.language,\n            expression: \"language\"\n          }\n        ],\n        on: {\n          change: [\n            function($event) {\n              var $$selectedVal = Array.prototype.filter\n                .call($event.target.options, function(o) {\n                  return o.selected\n                })\n                .map(function(o) {\n                  var val = \"_value\" in o ? o._value : o.value\n                  return val\n                })\n              _vm.language = $event.target.multiple\n                ? $$selectedVal\n                : $$selectedVal[0]\n            },\n            _vm.onChange\n          ]\n        }\n      },\n      [\n        _c(\"option\", { attrs: { selected: \"\", value: \"en\" } }, [\n          _vm._v(\"English\")\n        ]),\n        _vm._v(\" \"),\n        _c(\"option\", { attrs: { value: \"fr\" } }, [_vm._v(\"French\")])\n      ]\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-46e38f43\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46e38f43\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LanguageChooser.vue\n// module id = null\n// module chunks = ","var disposed = false\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LanguageChooser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LanguageChooser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46e38f43\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LanguageChooser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/LanguageChooser.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-46e38f43\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-46e38f43\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LanguageChooser.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"language-chooser\">\n    <select v-model=\"language\" @change=\"onChange\">\n      <option selected value=\"en\">English</option>\n      <option value=\"fr\">French</option>\n    </select>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'language-chooser',\n  data () {\n    return {language: 'en'}\n  },\n  methods: {\n    onChange (event) {\n      this.$root.$i18n.locale = event.target.value\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LanguageChooser.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"search-results list\" }, [\n    \"\".localeCompare(_vm.query) !== 0\n      ? _c(\n          \"div\",\n          [\n            _c(\"h3\", [\n              _vm._v(\n                _vm._s(\n                  _vm.$t(\"search.results.results\", {\n                    total: _vm.results.total,\n                    query: _vm.query\n                  })\n                )\n              )\n            ]),\n            _vm._v(\" \"),\n            _vm._l(_vm.results.hits, function(item) {\n              return _c(\"div\", { key: item._id, staticClass: \"item\" }, [\n                _vm._v(\n                  \"\\n      document : \" + _vm._s(item._source.path) + \"\\n      \"\n                ),\n                _c(\n                  \"div\",\n                  { staticClass: \"named-entities\" },\n                  [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(_vm.$t(\"search.results.entities\")) +\n                        \": \"\n                    ),\n                    _c(\"b\", [\n                      _vm._v(_vm._s(item.inner_hits.NamedEntity.hits.total))\n                    ]),\n                    _vm._v(\" \"),\n                    _vm._l(item.inner_hits.NamedEntity.hits.hits, function(ne) {\n                      return _c(\n                        \"span\",\n                        { key: ne._id, staticClass: \"named-entity\" },\n                        [\n                          _vm._v(\n                            _vm._s(ne._source.mention) +\n                              \" (\" +\n                              _vm._s(ne._source.category) +\n                              \"/\" +\n                              _vm._s(ne._source.extractor) +\n                              \"/\" +\n                              _vm._s(ne._source.offset) +\n                              \")\"\n                          )\n                        ]\n                      )\n                    })\n                  ],\n                  2\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"fragments\" },\n                  [\n                    _vm._v(\n                      \"\\n        \" +\n                        _vm._s(_vm.$t(\"search.results.match\")) +\n                        \":\\n        \"\n                    ),\n                    _vm._l(item.highlight.content, function(fragment) {\n                      return _c(\"span\", {\n                        key: fragment,\n                        staticClass: \"fragment\",\n                        domProps: { innerHTML: _vm._s(fragment) }\n                      })\n                    })\n                  ],\n                  2\n                )\n              ])\n            })\n          ],\n          2\n        )\n      : _c(\n          \"div\",\n          _vm._l(_vm.results.mentions.buckets, function(item) {\n            return _c(\"div\", { key: item.key, staticClass: \"item\" }, [\n              _c(\n                \"a\",\n                {\n                  attrs: { href: \"#\" },\n                  on: {\n                    click: function($event) {\n                      _vm.$emit(\"update:query\", item.key)\n                    }\n                  }\n                },\n                [_vm._v(_vm._s(item.key))]\n              ),\n              _c(\"span\", { staticClass: \"aggregation\" }, [\n                _vm._v(\n                  _vm._s(item.doc_count) +\n                    \" occurences, \" +\n                    _vm._s(item.docs.value) +\n                    \" documents\"\n                )\n              ])\n            ])\n          })\n        )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-1d54fe2e\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d54fe2e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SearchResults.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d54fe2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SearchResults.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchResults.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SearchResults.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d54fe2e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SearchResults.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d54fe2e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/SearchResults.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-1d54fe2e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-1d54fe2e\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SearchResults.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"search-results list\">\n    <div v-if=\"''.localeCompare(query) !== 0\">\n      <h3>{{$t('search.results.results', {total: results.total, query})}}</h3>\n      <div class=\"item\" v-for=\"item in results.hits\" :key=\"item._id\">\n        document : {{item._source.path}}\n        <div class=\"named-entities\">\n          {{$t('search.results.entities')}}: <b>{{ item.inner_hits.NamedEntity.hits.total }}</b>\n          <span class=\"named-entity\" v-for=\"ne in item.inner_hits.NamedEntity.hits.hits\" :key=\"ne._id\">{{ne._source.mention}} ({{ne._source.category}}/{{ne._source.extractor}}/{{ne._source.offset}})</span>\n        </div>\n        <div class=\"fragments\">\n          {{$t('search.results.match')}}:\n          <span class=\"fragment\" v-for=\"fragment in item.highlight.content\" v-html=\"fragment\" :key=\"fragment\"></span>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"item\" v-for=\"item in results.mentions.buckets\" :key=\"item.key\">\n        <a href=\"#\" @click=\"$emit('update:query', item.key)\">{{item.key}}</a><span class=\"aggregation\">{{item.doc_count}} occurences, {{item.docs.value}} documents</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'search-results',\n  props: ['results', 'query']\n}\n</script>\n\n<style scoped>\n  .fragments, .named-entities, .aggregation {\n    color: #7f7f7f;\n    margin-left: 1em;\n  }\n  .fragment, .named-entity {\n    margin-left: 5px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SearchResults.vue","<template>\n  <div class=\"search\">\n    <div class=\"search-bar\">\n      <input v-model=\"searchQuery\" v-on:keyup.enter=\"search\" type=\"search\" :placeholder=\"$t('search.placeholder')\" name=\"search\" size=\"32 \">\n      <button v-on:click=\"search\">{{ $t('search.buttonlabel') }}</button>\n    </div>\n    <search-results v-bind:results=\"searchResults\" :query.sync=\"lastQuery\"/>\n  </div>\n</template>\n\n<style scoped>\n  .search-bar {\n    padding: 3em;\n  }\n</style>\n\n<script>\nimport es from 'elasticsearch-browser'\nimport SearchResults from './SearchResults'\n\nvar esClient = new es.Client({\n  host: 'elasticsearch:9200',\n  log: 'trace'\n})\n\nexport default {\n  components: {SearchResults},\n  name: 'search',\n  data () {\n    return {searchQuery: '', lastQuery: '', searchResults: []}\n  },\n  created: function () {\n    this.aggregate()\n  },\n  methods: {\n    search () {\n      if (''.localeCompare(this.searchQuery) === 0) {\n        this.lastQuery = ''\n        this.aggregate()\n      } else {\n        const that = this\n        esClient.search({\n          index: 'datashare-local',\n          type: 'doc',\n          size: 200,\n          body: {\n            query: {\n              bool: {\n                should: [\n                  {\n                    has_child: {\n                      type: 'NamedEntity',\n                      query: {\n                        match: {\n                          mention: that.searchQuery\n                        }\n                      },\n                      inner_hits: {\n                        size: 10\n                      }\n                    }\n                  },\n                  {\n                    match: {content: that.searchQuery}\n                  }\n                ]\n              }\n            },\n            highlight: {\n              fields: {\n                content: {\n                  fragment_size: 150,\n                  number_of_fragments: 10,\n                  pre_tags: ['<b>'],\n                  post_tags: ['</b>']\n                }\n              }\n            }\n          }\n        }).then(function (resp) {\n          that.searchResults = resp.hits\n        }, function (err) {\n          console.trace(err.message)\n        })\n        that.lastQuery = that.searchQuery\n        this.searchQuery = ''\n      }\n    },\n    aggregate: function () {\n      const that = this\n      esClient.search({\n        index: 'datashare-local',\n        type: 'doc',\n        size: 0,\n        body: {\n          query: {\n            constant_score: {filter: {term: {type: 'NamedEntity'}}}\n          },\n          aggs: {\n            mentions: {\n              terms: {field: 'mention_norm', size: 30},\n              aggs: {\n                docs: {\n                  cardinality: {\n                    field: 'join'\n                  }\n                }\n              }\n            }\n          }\n        }\n      }).then(function (resp) {\n        that.searchResults = resp.aggregations\n      }, function (err) {\n        console.trace(err.message)\n      })\n    }\n  },\n  watch: {\n    lastQuery (newQuery, oldQuery) {\n      if (oldQuery === '' && newQuery !== '') {\n        this.searchQuery = newQuery\n        this.search()\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Search.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"search\" },\n    [\n      _c(\"div\", { staticClass: \"search-bar\" }, [\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.searchQuery,\n              expression: \"searchQuery\"\n            }\n          ],\n          attrs: {\n            type: \"search\",\n            placeholder: _vm.$t(\"search.placeholder\"),\n            name: \"search\",\n            size: \"32 \"\n          },\n          domProps: { value: _vm.searchQuery },\n          on: {\n            keyup: function($event) {\n              if (\n                !(\"button\" in $event) &&\n                _vm._k($event.keyCode, \"enter\", 13, $event.key)\n              ) {\n                return null\n              }\n              _vm.search($event)\n            },\n            input: function($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.searchQuery = $event.target.value\n            }\n          }\n        }),\n        _vm._v(\" \"),\n        _c(\"button\", { on: { click: _vm.search } }, [\n          _vm._v(_vm._s(_vm.$t(\"search.buttonlabel\")))\n        ])\n      ]),\n      _vm._v(\" \"),\n      _c(\"search-results\", {\n        attrs: { results: _vm.searchResults, query: _vm.lastQuery },\n        on: {\n          \"update:query\": function($event) {\n            _vm.lastQuery = $event\n          }\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-7cb41050\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cb41050\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Search.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cb41050\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cb41050\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7cb41050\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/Search.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7cb41050\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7cb41050\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"app\">\n    <language-chooser/>\n    <search/>\n  </div>\n</template>\n\n<style lang=\"scss\">\n  .app {}\n</style>\n\n<script>\nimport LanguageChooser from './LanguageChooser'\nimport Search from './Search'\n\nexport default {\n  components: {\n    Search,\n    LanguageChooser},\n  name: 'App'\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/App.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"app\" },\n    [_c(\"language-chooser\"), _vm._v(\" \"), _c(\"search\")],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-617ab0be\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-617ab0be\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-617ab0be\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-617ab0be\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/App.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-617ab0be\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-617ab0be\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport App from '@/components/App'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'App',\n      component: App\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport App from './App'\nimport router from './router'\nimport messages from './messages'\n\nVue.use(VueI18n)\nVue.config.productionTip = false\n\nconst i18n = new VueI18n({locale: 'en', fallbackLocale: 'en', messages})\n\n/* eslint-disable no-new */\nnew Vue({\n  i18n,\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"en\":{\"search\":{\"placeholder\":\"Search in documents...\",\"buttonlabel\":\"Search\",\"results\":{\"match\":\"match in doc\",\"entities\":\"nb entities\",\"results\":\"%{total} document(s) found for \\\"%{query}\\\"\"}}},\"fr\":{\"search\":{\"placeholder\":\"Rechercher dans les documents...\",\"buttonlabel\":\"Rechercher\",\"results\":{\"match\":\"dans le doc\",\"entities\":\"nb entités\",\"results\":\"%{total} document(s) trouvé(s) pour \\\"%{query}\\\"\"}}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/messages.json\n// module id = S8TV\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cb41050\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Search.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4c5030d4\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cb41050\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Search.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cb41050\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Search.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7cb41050\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Search.vue\n// module id = i+tC\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d54fe2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SearchResults.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"ef2efbf0\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d54fe2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SearchResults.vue\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d54fe2e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SearchResults.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1d54fe2e\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/SearchResults.vue\n// module id = oATY\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.search-bar[data-v-7cb41050] {\\n  padding: 3em;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/dev/src/datashare-client/src/components/src/components/Search.vue\"],\"names\":[],\"mappings\":\";AAWA;EACA,aAAA;CACA\",\"file\":\"Search.vue\",\"sourcesContent\":[\"<template>\\n  <div class=\\\"search\\\">\\n    <div class=\\\"search-bar\\\">\\n      <input v-model=\\\"searchQuery\\\" v-on:keyup.enter=\\\"search\\\" type=\\\"search\\\" :placeholder=\\\"$t('search.placeholder')\\\" name=\\\"search\\\" size=\\\"32 \\\">\\n      <button v-on:click=\\\"search\\\">{{ $t('search.buttonlabel') }}</button>\\n    </div>\\n    <search-results v-bind:results=\\\"searchResults\\\" :query.sync=\\\"lastQuery\\\"/>\\n  </div>\\n</template>\\n\\n<style scoped>\\n  .search-bar {\\n    padding: 3em;\\n  }\\n</style>\\n\\n<script>\\nimport es from 'elasticsearch-browser'\\nimport SearchResults from './SearchResults'\\n\\nvar esClient = new es.Client({\\n  host: 'elasticsearch:9200',\\n  log: 'trace'\\n})\\n\\nexport default {\\n  components: {SearchResults},\\n  name: 'search',\\n  data () {\\n    return {searchQuery: '', lastQuery: '', searchResults: []}\\n  },\\n  created: function () {\\n    this.aggregate()\\n  },\\n  methods: {\\n    search () {\\n      if (''.localeCompare(this.searchQuery) === 0) {\\n        this.lastQuery = ''\\n        this.aggregate()\\n      } else {\\n        const that = this\\n        esClient.search({\\n          index: 'datashare-local',\\n          type: 'doc',\\n          size: 200,\\n          body: {\\n            query: {\\n              bool: {\\n                should: [\\n                  {\\n                    has_child: {\\n                      type: 'NamedEntity',\\n                      query: {\\n                        match: {\\n                          mention: that.searchQuery\\n                        }\\n                      },\\n                      inner_hits: {\\n                        size: 10\\n                      }\\n                    }\\n                  },\\n                  {\\n                    match: {content: that.searchQuery}\\n                  }\\n                ]\\n              }\\n            },\\n            highlight: {\\n              fields: {\\n                content: {\\n                  fragment_size: 150,\\n                  number_of_fragments: 10,\\n                  pre_tags: ['<b>'],\\n                  post_tags: ['</b>']\\n                }\\n              }\\n            }\\n          }\\n        }).then(function (resp) {\\n          that.searchResults = resp.hits\\n        }, function (err) {\\n          console.trace(err.message)\\n        })\\n        that.lastQuery = that.searchQuery\\n        this.searchQuery = ''\\n      }\\n    },\\n    aggregate: function () {\\n      const that = this\\n      esClient.search({\\n        index: 'datashare-local',\\n        type: 'doc',\\n        size: 0,\\n        body: {\\n          query: {\\n            constant_score: {filter: {term: {type: 'NamedEntity'}}}\\n          },\\n          aggs: {\\n            mentions: {\\n              terms: {field: 'mention_norm', size: 30},\\n              aggs: {\\n                docs: {\\n                  cardinality: {\\n                    field: 'join'\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }).then(function (resp) {\\n        that.searchResults = resp.aggregations\\n      }, function (err) {\\n        console.trace(err.message)\\n      })\\n    }\\n  },\\n  watch: {\\n    lastQuery (newQuery, oldQuery) {\\n      if (oldQuery === '' && newQuery !== '') {\\n        this.searchQuery = newQuery\\n        this.search()\\n      }\\n    }\\n  }\\n}\\n</script>\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7cb41050\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Search.vue\n// module id = yboS\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"App.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7ba5bd90\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = z/+d\n// module chunks = 0"],"sourceRoot":""}